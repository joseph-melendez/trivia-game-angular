import{b as U}from"./chunk-2J3IGJGX.js";import{$ as c,F as v,G as T,H as j,I as $,J as l,K as r,L as a,M as w,N as q,O as g,P as m,R as D,S as d,U as M,V as Q,_ as P,ca as L,ea as _,fa as R,g as F,ha as X,j as V,m as p,n as b,o as C,q as f,r as A,u as y,v as o,y as u}from"./chunk-SEBR32R4.js";var k=class n{http=p(L);getQuestions(t,e){let s=`${U}?amount=${t}`+(e!=null&&e!="any"?`&difficulty=${e}`:"");return this.http.get(s)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function B(n){let t=[];return n.results.map((e,i)=>{let s={number:i+1,category:e.category,difficulty:e.difficulty,type:e.type,question:e.question,answer:e.correct_answer,options:[...e.incorrect_answers,e.correct_answer]};s.type==="boolean"?s.options.sort().reverse():s.options.sort(),t.push(s)}),t}var N=class n{questionNumber=c();totalQuestions=c();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-questionxofx"]],inputs:{questionNumber:[1,"questionNumber"],totalQuestions:[1,"totalQuestions"]},decls:3,vars:2,consts:[[1,"questionXofX"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"b"),d(2),a()()),e&2&&(o(2),Q("Question ",i.questionNumber(),"/",i.totalQuestions()))},styles:[".questionXofX[_ngcontent-%COMP%]{font-size:28px;margin:10px}"]})};var S=class n{difficulty=c("any");formattedDifficulty(t){let e="";return t==="easy"?e="background-color-green color-white":t==="medium"?e="background-color-orange color-white":e="background-color-red color-white","pill "+e}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-difficulty"]],inputs:{difficulty:[1,"difficulty"]},decls:2,vars:3,template:function(e,i){e&1&&(r(0,"div"),d(1),a()),e&2&&(D(i.formattedDifficulty(i.difficulty())),o(),M(" ",i.difficulty(),`
`))},styles:[".background-color-green[_ngcontent-%COMP%]{background-color:green}.background-color-orange[_ngcontent-%COMP%]{background-color:orange}.background-color-red[_ngcontent-%COMP%]{background-color:red}.color-white[_ngcontent-%COMP%]{color:#fff}.pill[_ngcontent-%COMP%]{border:none;padding:10px 20px;text-align:center;text-decoration:none;display:inline-block;min-width:65px;margin:4px 2px;border-radius:16px}"]})};var O=class n{sanitizer=p(_);category=c.required();difficulty=c.required();sanitizedCategory=f("");ngOnChanges(){this.sanitizedCategory.set(this.sanitizer.bypassSecurityTrustHtml(this.category()))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-categoryanddifficulty"]],inputs:{category:[1,"category"],difficulty:[1,"difficulty"]},features:[A],decls:5,vars:2,consts:[[1,"flex-container"],[1,"category-difficulty-name","question-font-size"],[3,"innerHTML"],[1,"category-difficulty-pill"],[3,"difficulty"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1),w(2,"b",2),a(),r(3,"div",3),w(4,"app-difficulty",4),a()()),e&2&&(o(2),l("innerHTML",i.sanitizedCategory(),y),o(2),l("difficulty",i.difficulty()))},dependencies:[S],styles:[".question-font-size[_ngcontent-%COMP%]{font-size:24px}"]})};var z=class n{sanitizer=p(_);question=c.required();sanitizedQuestion=f("");ngOnChanges(){this.sanitizedQuestion.set(this.sanitizer.bypassSecurityTrustHtml(this.question()))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-question"]],inputs:{question:[1,"question"]},features:[A],decls:1,vars:1,consts:[[1,"question-align",3,"innerHTML"]],template:function(e,i){e&1&&w(0,"p",0),e&2&&l("innerHTML",i.sanitizedQuestion(),y)},styles:[".question-align[_ngcontent-%COMP%]{text-align:left}"]})};var I=class n{sanitizer=p(_);prompt=c.required();answerNumber=c.required();answer=c.required();correctAnswer=c.required();wasAnswered=c.required();setAnswer=P();sanitizedPrompt="";ngOnInit(){this.sanitizedPrompt=this.sanitizer.bypassSecurityTrustHtml(`${this.answerNumber()}. ${this.prompt()}`)}answerClicked(t){this.wasAnswered()||this.setAnswer.emit(t)}answerFormatting(){let t=this.wasAnswered()?"answer-disabled ":"answer ",e=this.prompt()===this.answer()?"answer-selected":"",i=this.wasAnswered()&&this.correctAnswer()!==this.answer()&&this.prompt()===this.correctAnswer()?"answer-wrong":"";return t+e+i}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-answer"]],inputs:{prompt:[1,"prompt"],answerNumber:[1,"answerNumber"],answer:[1,"answer"],correctAnswer:[1,"correctAnswer"],wasAnswered:[1,"wasAnswered"]},outputs:{setAnswer:"setAnswer"},decls:2,vars:3,consts:[[1,"button-link",3,"click","keypress","innerHTML"]],template:function(e,i){e&1&&(r(0,"li")(1,"button",0),g("click",function(){return i.answerClicked(i.prompt())})("keypress",function(){return i.answerClicked(i.prompt())}),a()()),e&2&&(D(i.answerFormatting()),o(),l("innerHTML",i.sanitizedPrompt,y))},styles:[".answer[_ngcontent-%COMP%]{margin-bottom:5px;cursor:pointer;width:95%}.answer-disabled[_ngcontent-%COMP%]{margin-bottom:5px;width:95%;cursor:auto}.answer-wrong[_ngcontent-%COMP%]{margin-bottom:5px;width:95%;cursor:auto;background-color:#ff2400}.answer[_ngcontent-%COMP%]:hover{background-color:#ffebcd}.answer-selected[_ngcontent-%COMP%]{background-color:#90ee90}.button-link[_ngcontent-%COMP%]{background:none!important;border:none;padding:0!important;cursor:pointer;text-align:left;width:100%;font-weight:400}.button-link[_ngcontent-%COMP%]:active{background-color:#ffebcd}"]})};function J(n,t){return`${this.question().number}-${t}`}function K(n,t){if(n&1){let e=q();r(0,"app-answer",3),g("setAnswer",function(s){b(e);let E=m();return C(E.updateAnswer(s))}),a()}if(n&2){let e=t.$implicit,i=t.$index,s=m();l("prompt",e)("answerNumber",i+1)("answer",s.answer())("correctAnswer",s.question().answer)("wasAnswered",s.wasAnswered())}}var H=class n{question=c.required();answer=c.required();wasAnswered=c.required();setAnswer=P();updateAnswer(t){this.setAnswer.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-answers"]],inputs:{question:[1,"question"],answer:[1,"answer"],wasAnswered:[1,"wasAnswered"]},outputs:{setAnswer:"setAnswer"},decls:4,vars:0,consts:[[1,"align-left"],[1,"ol-answers"],[3,"prompt","answerNumber","answer","correctAnswer","wasAnswered"],[3,"setAnswer","prompt","answerNumber","answer","correctAnswer","wasAnswered"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"ol",1),j(2,K,1,5,"app-answer",2,J,!0),a()()),e&2&&(o(2),$(i.question().options))},dependencies:[I],styles:[".align-left[_ngcontent-%COMP%]{text-align:left}.ol-answers[_ngcontent-%COMP%]{margin-left:-5px;list-style:none;font-size:18px}"]})};function ee(n,t){n&1&&(r(0,"p"),d(1,"Loading..."),a())}function te(n,t){if(n&1){let e=q();r(0,"p"),d(1),a(),r(2,"p")(3,"a",0),g("click",function(){b(e);let s=m();return C(s.playAgain())})("keypress",function(){b(e);let s=m();return C(s.playAgain())}),d(4," Play Again "),a()()}if(n&2){let e=m();o(),Q(" You answered ",e.correctAnswerCount()," of ",e.questions().length," questions correctly. ")}}function ne(n,t){n&1&&(r(0,"b"),d(1,"You are correct!"),a(),w(2,"br")(3,"br"))}function ie(n,t){if(n&1&&(d(0," That is incorrect."),w(1,"br"),d(2," The correct answer is:\xA0 "),w(3,"b",6)),n&2){let e=m(3);o(3),l("innerHTML",e.sanitizedAnswer(),y)}}function se(n,t){if(n&1&&v(0,ne,4,0)(1,ie,4,1),n&2){let e=m(2);T(e.isCorrect()?0:1)}}function oe(n,t){n&1&&w(0,"br")(1,"br")}function re(n,t){if(n&1){let e=q();r(0,"div"),w(1,"app-questionxofx",1)(2,"hr")(3,"app-categoryanddifficulty",2)(4,"br")(5,"app-question",3),r(6,"app-answers",4),g("setAnswer",function(s){b(e);let E=m();return C(E.setAnswer(s))}),a(),r(7,"p"),v(8,se,2,1)(9,oe,2,0),a(),r(10,"p")(11,"button",5),g("click",function(){b(e);let s=m();return C(s.onClick())}),d(12),a()()()}if(n&2){let e=m();o(),l("questionNumber",e.question().number)("totalQuestions",e.questions().length),o(2),l("category",e.question().category)("difficulty",e.question().difficulty),o(2),l("question",e.question().question),o(),l("question",e.question())("answer",e.answer())("wasAnswered",e.wasAnswered()),o(2),T(e.wasAnswered()?8:9),o(3),l("disabled",e.answer().length===0)("tabIndex",0),o(),M(" ",e.buttonName()," ")}}var G=class n{router=p(X);route=p(R);sanitizer=p(_);questionService=p(k);questions=f([]);questionIndex=f(0);wasAnswered=f(!1);answer=f("");isCorrect=f(!1);correctAnswerCount=f(0);sanitizedAnswer=f("");question=f({});ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("questions")),e="any";this.route.queryParams.subscribe(i=>{e=i.difficulty}),(isNaN(t)||t==null||t<1||t>20)&&this.router.navigate(["/"]),this.questionService.getQuestions(t,e).pipe(F(i=>{throw console.error(i),i})).subscribe(i=>{let s=B(i);this.questions.set(s),this.question.set(s[0])})}setAnswer(t){this.answer.set(t)}onClick(){if(console.log("joe joe joe joe joe",this.question().number,this.wasAnswered()),this.wasAnswered()){let t=this.questionIndex()+1;this.questionIndex.set(t),this.question.set(t<this.questions().length?this.questions()[t]:{}),this.wasAnswered.set(!1),this.answer.set("")}else this.wasAnswered.set(!0),this.isCorrect.set(this.answer()==this.question().answer),this.isCorrect()?this.correctAnswerCount.set(this.correctAnswerCount()+1):this.sanitizedAnswer.set(this.sanitizer.bypassSecurityTrustHtml(this.question().answer))}buttonName(){return this.wasAnswered()?"Next Question":"Answer"}playAgain(){this.router.navigate([""])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-play"]],decls:3,vars:1,consts:[["tabindex","0",3,"click","keypress"],[3,"questionNumber","totalQuestions"],[3,"category","difficulty"],[3,"question"],[3,"setAnswer","question","answer","wasAnswered"],["keydown","",1,"button-ok",3,"click","disabled","tabIndex"],[3,"innerHTML"]],template:function(e,i){e&1&&v(0,ee,2,0,"p")(1,te,5,2)(2,re,13,12,"div"),e&2&&T(i.questions().length?i.questionIndex()>=i.questions().length?1:2:0)},dependencies:[N,O,z,H],encapsulation:2})};export{G as Play};
